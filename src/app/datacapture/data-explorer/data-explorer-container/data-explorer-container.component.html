<div class="flex start stretch h-100">
    <!-- Hierarchy -->
    <nz-card style="min-width: 300px;"  nzSize='small' nzTitle='Collections'>
        <app-domain-hierarchy [collection]='collection$ | async' (collectionClicked)='onCollectionClicked($event)'></app-domain-hierarchy>
    </nz-card> 
    
    <!-- Actual Data Exploration -->
    <div class="fill flex column stretch">
        <nz-card class="explorer" nzSize='small' nzTitle='Data Explorer'>
            <nz-tabset nzLinkRouter>
                <nz-tab *ngFor="let tab of tabs">
                    <a nz-tab-link [routerLink]="tab.route">{{tab.label}}</a>
                </nz-tab>
            </nz-tabset>
        </nz-card> 
        
        <nz-card  *ngIf='(service.collectionId$ | async)' class="flex fill border-top-0 border-left-0" nzSize='small'>
            <router-outlet></router-outlet>
        </nz-card>

        <nz-card *ngIf='!(service.collectionId$ | async)' class="flex fill border-top-0 border-left-0" nzSize='small'>
            <div class="flex column h-100">
                <span nz-text nzType='danger' nz-tooltip [nzTooltipTitle]='error$ | async | json'>
                    <i nz-icon nzType="block" style="font-size: 64px"></i>
                </span>
                <div class="mt-3">
                    <span nz-text>Select a Collection</span>
                </div>
            </div>
        </nz-card>

    </div>
    
</div>